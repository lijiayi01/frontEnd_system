# http常见知识点

## chrome的缓存策略

1. 先查找内存，如果内存中存在，从内存中加载；
2. 如果内存中未查找到，选择硬盘获取，如果硬盘中有，从硬盘中加载；
3. 如果硬盘中未查找到，那就进行网络请求；
4. 加载到的资源缓存到硬盘和内存；

| 状态码  |	类型  |	说明
|:----: |:----: |:----: |
|200	|  form memory cache  |	不请求网络资源，资源在内存当中
|200	|  form disk ceche	|  不请求网络资源，在磁盘当中
|200	|  资源大小数值	|  从服务器下载最新资源
|304	|  报文大小	 |  请求服务端发现资源没有更新，使用本地资源


### HTTP状态码及区别
- 200 form memory cache

    不访问服务器，一般已经加载过该资源且缓存在了内存当中，直接从内存中读取缓存。浏览器关闭后，数据将不存在（资源被释放掉了），再次打开相同的页面时，不会出现from memory cache。

- 200 from disk cache

    不访问服务器，已经在之前的某个时间加载过该资源，直接从硬盘中读取缓存，关闭浏览器后，数据依然存在，此资源不会随着该页面的关闭而释放掉下次打开仍然会是from disk cache。

- 200 大小(如3.4k)

    访问服务器，size显示为实际资源的大小

- 304 Not Modified

    访问服务器，发现数据没有更新，服务器返回此状态码。然后从缓存中读取数据。这种在请求头中有两个请求参数：If-Modified-Since 和 If-None-Match。

### 场景

一般， CSS样式表会缓存到磁盘，JS脚本缓存到内存。

以上的数据及统计都是在chrome浏览器下进行的，在Firefox下并没有from memory cache以及from disk cache的状态展现，相同的资源在chrome下是from disk/memory cache，但是Firefox统统是304状态码，即Firefox下会缓存资源，但是每次都会请求服务器对比当前缓存是否更改，chrome一般不直接请求服务器(当请求头中包含参数If-Modified-Since 和 If-None-Match时，会请求服务器进行资源版本比对)，直接拿过来用，这也是为啥chrome比较快的原因之一